<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Uhr lernen</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    body {
      font-family: 'Comic Sans MS', cursive, sans-serif;
      text-align: center;
      background: linear-gradient(to bottom, #fceabb, #f8b500);
      padding: 20px;
    }

    h1 {
      color: #ff4081;
      font-size: 2.5rem;
      margin-bottom: 20px;
    }

    #clock {
      margin: 20px auto;
      width: 300px;
      height: 300px;
      background-color: #fff3e0;
      border-radius: 50%;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    .input-area {
      margin: 20px;
      display: flex;
      justify-content: center;
      gap: 20px;
    }

    label {
      font-size: 1.2rem;
      color: #4e342e;
    }

    input {
      width: 70px;
      font-size: 1.2rem;
      padding: 5px;
      border: 2px solid #ffcc80;
      border-radius: 8px;
      background: #fff8e1;
    }

    button {
      font-size: 1.2rem;
      padding: 10px 25px;
      margin: 10px;
      cursor: pointer;
      border: none;
      border-radius: 12px;
      background: #ff6f00;
      color: white;
      transition: background 0.3s;
    }

    button:hover {
      background: #ff8f00;
    }
  </style>
</head>
<body>
  <h1>Wie spÃ¤t ist es?</h1>

  <div id="clock"></div>
  <button id="new-time-btn">Neue Uhrzeit</button>

  <div class="input-area">
    <label>Stunde:<br><input type="number" id="hour-input" min="1" max="12" /></label>
    <label>Minute:<br><input type="number" id="minute-input" min="0" max="59" step="5"/></label>
  </div>
  <button id="check-btn">PrÃ¼fen</button>

  <script src="clock.min.js"></script>
  <script>
    class Clock {
      constructor(containerId) {
        this.container = document.getElementById(containerId);
        this.hour = 0;
        this.minute = 0;
        this.draw();
      }

      draw() {
        this.container.innerHTML = '';
        const canvas = document.createElement('canvas');
        canvas.width = 300;
        canvas.height = 300;
        this.container.appendChild(canvas);
        this.ctx = canvas.getContext('2d');
        this.update();
      }

      update() {
        const ctx = this.ctx;
        ctx.clearRect(0, 0, 300, 300);

        // Hintergrundkreis
        ctx.beginPath();
        ctx.arc(150, 150, 140, 0, 2 * Math.PI);
        ctx.fillStyle = '#fff3e0';
        ctx.fill();
        ctx.stroke();

        // Zahlen
        ctx.fillStyle = '#ff4081';
        ctx.font = 'bold 18px Comic Sans MS';
        for (let i = 0; i < 12; i++) {
          const angle = i * Math.PI / 6;
          const x = 150 + Math.cos(angle - Math.PI / 2) * 120;
          const y = 150 + Math.sin(angle - Math.PI / 2) * 120;
          ctx.fillText(i === 0 ? '12' : i.toString(), x - 10, y + 8);
        }

        // Zeiger
        const hourAngle = ((this.hour % 12) + this.minute / 60) * Math.PI / 6;
        const minuteAngle = this.minute * Math.PI / 30;

        ctx.strokeStyle = '#3e2723';
        ctx.lineWidth = 6;
        ctx.beginPath();
        ctx.moveTo(150, 150);
        ctx.lineTo(150 + 50 * Math.cos(hourAngle - Math.PI / 2),
                   150 + 50 * Math.sin(hourAngle - Math.PI / 2));
        ctx.stroke();

        ctx.strokeStyle = '#ff6f00';
        ctx.lineWidth = 4;
        ctx.beginPath();
        ctx.moveTo(150, 150);
        ctx.lineTo(150 + 80 * Math.cos(minuteAngle - Math.PI / 2),
                   150 + 80 * Math.sin(minuteAngle - Math.PI / 2));
        ctx.stroke();
      }

      setTime(hour, minute) {
        this.hour = hour;
        this.minute = minute;
        this.update();
      }
    }

    let currentHour = 0;
    let currentMinute = 0;
    let clock = new Clock("clock");

    function generateRandomTime() {
      currentHour = Math.floor(Math.random() * 12) + 1;
      currentMinute = Math.floor(Math.random() * 12) * 5;
      clock.setTime(currentHour, currentMinute);
    }

    document.getElementById("new-time-btn").addEventListener("click", generateRandomTime);

    document.getElementById("check-btn").addEventListener("click", () => {
      const inputHour = parseInt(document.getElementById("hour-input").value, 10);
      const inputMinute = parseInt(document.getElementById("minute-input").value, 10);

      if (inputHour === currentHour && inputMinute === currentMinute) {
        alert("Richtig! Gut gemacht! ðŸŽ‰");
        generateRandomTime();
      } else {
        alert("Leider falsch! Versuch es nochmal.");
      }
    });

    generateRandomTime();
  </script>
</body>
</html>
